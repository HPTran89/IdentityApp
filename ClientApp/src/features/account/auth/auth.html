<div class="d-flex justify-content-center align-items-center vh-100">
    <div class="card shadow-lg border-0 rounded-4" style="width: 24rem;">
        <div class="card-body p-5">
            @if (isRegisterMode) {
            <h2 class="text-center mb-4 fw-bold text-primary">Create Account</h2>
            <form [formGroup]="registerForm" (ngSubmit)="onSubmitRegister()">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="usernameInput" placeholder="Username"
                        formControlName="username"
                        [class.is-invalid]="registerForm.get('username')?.touched && registerForm.get('username')?.invalid" />
                    <label for="usernameInput">Username</label>
                    <div class="invalid-feedback">Username is required.</div>
                </div>
                <div class="form-floating mb-3">
                    <input type="email" class="form-control" id="emailInput" placeholder="name@example.com"
                        formControlName="email"
                        [class.is-invalid]="registerForm.get('email')?.touched && registerForm.get('email')?.invalid" />
                    <label for="emailInput">Email address</label>
                    <div class="invalid-feedback">Please enter a valid email.</div>
                </div>
                <div class="form-floating mb-4">
                    <input type="password" class="form-control" id="passwordInput" placeholder="Password"
                        formControlName="password"
                        [class.is-invalid]="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" />
                    <label for="passwordInput">Password</label>
                    <div class="invalid-feedback">Password is required (min 6 chars).</div>
                </div>
                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-primary btn-lg rounded-pill fw-semibold"
                        [disabled]="registerForm.invalid">
                        Register
                    </button>
                </div>
            </form>
            <div class="text-center mt-4">
                <p class="text-muted small">
                    Already have an account?
                    <a routerLink="/account/login" class="text-decoration-none fw-semibold">Sign in here</a>
                </p>
            </div>
            } @else {
            <h2 class="text-center mb-4 fw-bold text-primary">Welcome Back</h2>
            <form [formGroup]="loginForm" (ngSubmit)="onSubmitLogin()">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="usernameInput" placeholder="Username or Email"
                        formControlName="username"
                        [class.is-invalid]="loginForm.get('username')?.touched && loginForm.get('username')?.invalid" />
                    <label for="usernameInput">Username or Email</label>
                    <div class="invalid-feedback">Username or Email is required.</div>
                </div>
                <div class="form-floating mb-4">
                    <input type="password" class="form-control" id="passwordInput" placeholder="Password"
                        formControlName="password"
                        [class.is-invalid]="loginForm.get('password')?.touched && loginForm.get('password')?.invalid" />
                    <label for="passwordInput">Password</label>
                    <div class="invalid-feedback">Password is required.</div>
                </div>
                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-primary btn-lg rounded-pill fw-semibold"
                        [disabled]="loginForm.invalid">
                        Sign In
                    </button>
                </div>
            </form>
            <div class="text-center mt-4">
                <p class="text-muted small">
                    Don't have an account?
                    <a routerLink="/account/register" class="text-decoration-none fw-semibold">Register here</a>
                </p>
            </div>
            }
        </div>
    </div>
</div>